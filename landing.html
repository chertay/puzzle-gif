<!DOCTYPE html>
<html>
<link rel="import" href="bower_components/x-gif/dist/x-gif.html"/>
  <head>
    <meta charset="utf-8">
    <title>Gif Puzzler</title>
    <link rel="stylesheet" type="text/css" href="puzzler.css" />
    <link rel="import" href="bower_components/x-gif/dist/x-gif.html"/>
  </head>
  <body>
    <!-- <x-gif src="http://i.imgur.com/RY2vTBQ.gif"></x-gif> -->
    <h1>Shitty Game of Gifs</h1>
    <div class ="flex-grid">
      <div class="col"></div>
      <div class="col"></div>
      <div class="col"></div>
      <div class="col"></div>
      <div class="col"></div>
      <div class="col"></div>
      <div class="col"></div>
      <div class="col"></div>
      <div class="col"></div>
    </div>
    <script src="https://code.jquery.com/jquery-1.12.4.js" type="text/javascript"></script>
    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js" type="text/javascript"></script>
    <script src="js/drag-n-drop.js" type="text/javascript"></script>
    <script type="text/javascript">

        $(document).ready(ddInit());

        (function(){

            var gif = document.createElement('x-gif');
            gif.setAttribute('src','http://i.giphy.com/OAXZlshfij9gk.gif');
            var sortables = document.querySelectorAll('.col');

            // HACK: Wait for the gif to be loaded and for the frames to be initialized within <x-gif>:
            setTimeout(function(){
                var frames = gif.controller.playback.element.querySelectorAll('.frame');
                Object.keys(sortables).forEach(function(sq,i){
                    sortables[sq].appendChild(frames[i]);
                });
            }, 3000);

        })();

    </script>
  </body>
</html>
